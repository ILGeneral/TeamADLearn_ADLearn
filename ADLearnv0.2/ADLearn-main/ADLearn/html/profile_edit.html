<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADLearn</title>
    <link href="https://fonts.googleapis.com/css2?family=Red+Rose:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/profile_edit.css">
    <script>
        // edit bio
        function editBio() {
    const bioContainer = document.getElementById("bio-list");
    const bioTextarea = document.getElementById("bio-textarea");
    const editButton = document.querySelector(".edit-button"); // Select the button

    // Toggle textarea visibility for editing
    if (bioTextarea.style.display === "none" || !bioTextarea.style.display) {
        // Check if there's an existing bio
        if (bioContainer.children.length > 0) {
            const existingBio = bioContainer.children[0]; // Assume only one bio
            bioTextarea.value = existingBio.textContent.trim(); // Load existing bio into textarea
        } else {
            bioTextarea.value = ""; // Clear the textarea for new bio
        }
        bioTextarea.style.display = "block"; // Show the textarea
        editButton.textContent = "Save"; // Change button to "Save"
    } else {
        // Save the new bio
        const bioText = bioTextarea.value.trim();
        if (bioText) {
            if (bioContainer.children.length > 0) {
                bioContainer.children[0].textContent = bioText; // Update existing bio
            } else {
                const bioItem = document.createElement("li");
                bioItem.textContent = bioText; // Add new bio
                bioContainer.appendChild(bioItem);
            }
            bioTextarea.style.display = "none"; // Hide the textarea
            editButton.textContent = "Edit"; // Change button back to "Edit"
        } else {
            alert("Bio cannot be empty!");
        }
    }
}
        // edit achievements
        function editAchievements() {
            const achievementText = prompt("Enter a new Academic Achievement:");
            if (achievementText) {
                const achievementContainer = document.getElementById("achievement-list");
                const achievementItem = document.createElement("li");
                achievementItem.textContent = achievementText;

                // Create delete button for each item
                const deleteButton = document.createElement("button");
                deleteButton.textContent = "Delete";
                deleteButton.classList.add("delete-button");
                deleteButton.onclick = function () {
                    achievementContainer.removeChild(achievementItem); // Remove the achievement item
                };

                achievementItem.appendChild(deleteButton);
                achievementContainer.appendChild(achievementItem);

                // Remove placeholder if any
                if (achievementContainer.children.length === 1 && achievementContainer.children[0].textContent === "It's empty!") {
                    achievementContainer.innerHTML = ''; // Remove placeholder
                }
            }
        }
    </script>
</head>
<body>
    <header class="navbar">
        <a href="homepage.html"><h1>ADLearn</h1></a>
        <div>
            <a href="/html/profile_edit.html">Profile</a>
            <a href="about.html">About Us</a>
            <a href="/html/login.html">Logout</a>
        </div>
    </header>
    <div class="container">
        <div class="profile-message-container">
            <div class="profile-box">
                <div class="profile-circle"></div>
                <div class="profile-name">Name</div>
            </div>
        </div>
        <div>
            <div class="additional-box">
                <div class="bio-header"><strong>Bio</strong></div>
                <ul id="bio-list"></ul>
                <textarea id="bio-textarea" rows="5" placeholder="Write your bio here..." style="display: none; width: 100%;"></textarea>
                <button class="edit-button" onclick="editBio()">Add</button>
            </div>
<!-- Modal for editing bio -->
<div id="bio-modal" class="modal" style="display: none;">
    <div class="modal-content">
        <textarea id="bio-textarea" rows="5" placeholder="Write your bio here..."></textarea>
        <div class="modal-actions">
            <button onclick="saveBio()">Save</button>
            <button onclick="closeBioModal()">Cancel</button>
        </div>
    </div>
</div>
            <div class="additional-box">
                <div class="bio-header"><strong>Academic Achievements</strong></div>
                <!-- List for Academic Achievements -->
                <ul id="achievement-list">
                </ul>
                <!-- Edit Button inside the container -->
                <button class="edit-button" onclick="editAchievements()">Add</button>
            </div>
        </div>
    </div>
</body>
</html>
